{"ast":null,"code":"var _jsxFileName = \"/Users/rissriva/Desktop/ExpenseManagementSystem/ExpenseManagement/frontend/src/components/Expense/AddExpenseSheet.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component } from \"react\";\nimport AddExpenseEntry from \"./AddExpenseEntry\";\nimport { Card, Button, Container, Pagination, Badge, Form, Table, Dropdown, Row, Col, FormControl, FloatingLabel } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar } from \"react-bootstrap\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport \"./Expense.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\"; // import filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\n\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\"; // import { InputGroup } from \"react-bootstrap\";\n\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { getExpenseSheets } from \"../../actions/expense.actions\"; // import { getProjects } from \"../../actions/project\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddExpenseSheet = () => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [method, setMethod] = useState(\"AddEntry\");\n\n  const showModal = () => {\n    // console.log(\"working\");\n    setShow(true);\n  };\n\n  const hideModal = () => {\n    // console.log(\"working\");\n    setShow(false);\n    setEntry(initialEntry);\n    setMethod(\"AddEntry\");\n  };\n\n  const todayDate = () => {\n    const date = new Date();\n    var d = new Date(date),\n        month = \"\" + (d.getMonth() + 1),\n        day = \"\" + d.getDate(),\n        year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [year, month, day].join(\"-\");\n  };\n\n  const initialEntry = {\n    projectName: \"\",\n    name: \"\",\n    paymentMethod: \"CARD\",\n    currency: \"INR\",\n    date: todayDate,\n    billable: \"\",\n    reimburseable: \"\",\n    netAmount: 0,\n    taxZone: \"IND\",\n    tax: 0,\n    amount: 0,\n    description: \"\",\n    attachments: \"\"\n  };\n  const [entry, setEntry] = useState(initialEntry);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getExpenseSheets()).then(() => {\n      console.log(\"Expenses fetched successfully\");\n    }).catch(() => {\n      console.log(\"Unable to fetch Expenses\");\n    });\n  }, [dispatch, entry]); // useEffect(() => {\n  //   dispatch(getProjects())\n  //     .then(() => {\n  //       console.log(\"Projects fetched successfully\");\n  //     })\n  //     .catch(() => {\n  //       console.log(\"Unable to fetch projects\");\n  //     });\n  // }, [dispatch]);\n\n  const {\n    entries: content\n  } = useSelector(state => state.expenseSheets);\n\n  const handleSelect = e => {\n    const index = content.findIndex(o => o.expenseId.toString() === e.target.id.toString() // (o) => console.log(o)\n    );\n    console.log(\"entering \"); // console.log(index);\n\n    console.log(content[index]);\n    setEntry(content[index]); // console.log(entry);\n\n    setMethod(\"UpdateEntry\");\n    showModal();\n  };\n\n  const dropDown = id => {\n    return /*#__PURE__*/_jsxDEV(Dropdown, {\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        id: \"options-menu\",\n        variant: \"secondary\",\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-gear-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 9\n        }, this), \" Options\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        variant: \"dark\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: handleSelect,\n          id: id,\n          children: \"Edit Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          children: \"View Attachment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          as: Link,\n          to: \"\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }, this);\n  };\n\n  const {\n    SearchBar\n  } = Search;\n\n  const afterSearch = newResult => {\n    console.log(newResult);\n  };\n\n  const SortCaret = (order, column) => {\n    if (!order) return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-up-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 23\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-down-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);else if (order === \"asc\") return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-caret-up-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-down-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this);else if (order === \"desc\") return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-up-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-caret-down-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this);\n    return null;\n  };\n\n  const columns = [{\n    dataField: \"date\",\n    text: \"Date\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    }\n  }, {\n    dataField: \"projectName\",\n    text: \"Project Name\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: \"name\",\n    text: \"Expense Name\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: \"description\",\n    text: \"Description\",\n    sort: true // headerSortingStyle,\n\n  }, {\n    dataField: \"amount\",\n    text: \"Amount\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    }\n  }, {\n    dataField: \"status\",\n    text: \"Status\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: 'options',\n    text: \"Options\",\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    } // sort: true\n\n  }];\n  const entryData = content.map(expense => {\n    var BadgeType = \"secondary\";\n\n    if (expense.status === \"SUBMITTED\") {\n      BadgeType = \"info\";\n    } else if (expense.status === \"APPROVED\") {\n      BadgeType = \"success\";\n    } else if (expense.status === \"REJECTED\") {\n      BadgeType = \"danger\";\n    }\n\n    const expenseData = {\n      date: expense.date,\n      projectName: expense.project.projectName,\n      // projectName : \"dummy prj name\",\n      name: expense.name,\n      description: expense.description,\n      amount: Number(expense.amount) + Number(expense.tax),\n      status: /*#__PURE__*/_jsxDEV(Badge, {\n        bg: BadgeType,\n        children: expense.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 14\n      }, this),\n      options: dropDown(expense.expenseId)\n    };\n    return expenseData;\n  }); // console.log(\"ffffff\")\n  // console.log(entryData.map(entry => entry.amount));\n  // console.log(entryData.map(entry => entry.amount).reduce(getSum,0));\n\n  function getSum(total, num) {\n    return total + num;\n  }\n\n  const totalAmount = entryData.map(entry => entry.amount).reduce(getSum, 0);\n  const totalReimbursed = entryData.filter(e => e.status === \"APPROVED\").map(entry => entry.amount).reduce(getSum, 0);\n  const defaultSorted = [{\n    dataField: \"date\",\n    order: \"desc\" //desc and asc\n\n  }]; // const products = [\n  //   {\n  //     id: \"1\",\n  //     date: \"31-13-23\",\n  //     description: \"aaa\",\n  //     amount: \"2424\",\n  //     options: dropDown(1)\n  //   },\n  //   {\n  //     id: \"2\",\n  //     date: \"21-13-23\",\n  //     description: \"bbb\",\n  //     amount: \"43524\",\n  //     options: dropDown\n  //   },\n  // ];\n\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const employeeName = currentUser.firstName + \" \" + currentUser.lastName;\n\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    type: \"card\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      bg: \"light\",\n      expand: \"lg\",\n      children: /*#__PURE__*/_jsxDEV(Breadcrumb, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ms-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n          href: \"/home\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"text-muted\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n          active: true,\n          children: \" My Expense Entries\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h3\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dark\",\n            children: [\"EXPENSES\", /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\",\n              style: {\n                marginRight: 5\n              },\n              id: \"addExpenseEntry\",\n              onClick: showModal,\n              className: \"float-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 15\n              }, this), \" Add Expense Entry\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"dark\",\n              style: {\n                marginRight: 5\n              },\n              id: \"printSheet\",\n              className: \"float-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-printer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 15\n              }, this), \" Print\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"wide-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person\",\n                      type: \"employee-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 363,\n                      columnNumber: 23\n                    }, this), \" Employee\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 21\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"display-6\",\n                  children: employeeName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"amount-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-cash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 389,\n                      columnNumber: 23\n                    }, this), \" Total Expenses Amount\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 388,\n                    columnNumber: 21\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 386,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"display-6\",\n                  children: [\"INR \", totalAmount]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"amount-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-wallet\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 23\n                    }, this), \" Total Reimbursed Amount\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"display-6\",\n                  children: [\"INR \", totalReimbursed]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-primary\",\n          children: \"EXPENSE ENTRY LIST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(ToolkitProvider, {\n          keyField: \"description\",\n          data: entryData,\n          columns: columns,\n          search: {\n            afterSearch\n          },\n          children: props => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n              id: \"searchbar\",\n              ...props.searchProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BootstrapTable //   ref={ n => this.node = n }\n            , {\n              keyField: \"id\",\n              data: entryData,\n              columns: columns // defaultSorted={defaultSorted}\n              ,\n              headerClasses: \"header-class\" //   filter={ filterFactory() }\n              ,\n              pagination: paginationFactory() // selectRow={{ mode: \"checkbox\", clickToSelect: true }}\n              //   expandRow={ expandRow }\n              ,\n              ...props.baseProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Status Legend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"info\",\n            size: \"sm\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            size: \"sm\",\n            children: \"Approved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            size: \"sm\",\n            children: [\"Rejected\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddExpenseEntry, {\n        show: show,\n        onHide: hideModal,\n        data: entry,\n        method: method\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 489,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddExpenseSheet, \"BlvjJ/QmMg9T6qdhps5D0Tg1Ijk=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = AddExpenseSheet;\nexport default AddExpenseSheet;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddExpenseSheet\");","map":{"version":3,"sources":["/Users/rissriva/Desktop/ExpenseManagementSystem/ExpenseManagement/frontend/src/components/Expense/AddExpenseSheet.js"],"names":["React","Component","AddExpenseEntry","Card","Button","Container","Pagination","Badge","Form","Table","Dropdown","Row","Col","FormControl","FloatingLabel","useState","Redirect","Link","Navbar","Breadcrumb","BootstrapTable","paginationFactory","ToolkitProvider","Search","useSelector","useDispatch","useEffect","getExpenseSheets","AddExpenseSheet","show","setShow","method","setMethod","showModal","hideModal","setEntry","initialEntry","todayDate","date","Date","d","month","getMonth","day","getDate","year","getFullYear","length","join","projectName","name","paymentMethod","currency","billable","reimburseable","netAmount","taxZone","tax","amount","description","attachments","entry","dispatch","then","console","log","catch","entries","content","state","expenseSheets","handleSelect","e","index","findIndex","o","expenseId","toString","target","id","dropDown","SearchBar","afterSearch","newResult","SortCaret","order","column","columns","dataField","text","sort","sortCaret","headerStyle","colIndex","width","entryData","map","expense","BadgeType","status","expenseData","project","Number","options","getSum","total","num","totalAmount","reduce","totalReimbursed","filter","defaultSorted","user","currentUser","auth","employeeName","firstName","lastName","marginRight","props","searchProps","baseProps"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,SACEC,IADF,EAEEC,MAFF,EAGEC,SAHF,EAIEC,UAJF,EAKEC,KALF,EAMEC,IANF,EAOEC,KAPF,EAQEC,QARF,EASEC,GATF,EAUEC,GAVF,EAWEC,WAXF,EAYEC,aAZF,QAaO,iBAbP;AAcA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,OAAO,gEAAP;AACA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,OAAO,eAAP;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,OAAOC,iBAAP,MAA8B,kCAA9B,C,CACA;;AACA,OAAOC,eAAP,IAA0BC,MAA1B,QAAwC,gCAAxC,C,CACA;;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,OAA1B;AAEA,SAASC,gBAAT,QAAiC,+BAAjC,C,CACA;;;;AAEA,MAAMC,eAAe,GAAE,MAAM;AAAA;;AAE3B,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBf,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAK,CAACgB,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,UAAD,CAAnC;;AACA,QAAMkB,SAAS,GAAG,MAAM;AACtB;AACAH,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAHD;;AAIA,QAAMI,SAAS,GAAG,MAAM;AACtB;AACAJ,IAAAA,OAAO,CAAC,KAAD,CAAP;AACAK,IAAAA,QAAQ,CAACC,YAAD,CAAR;AACAJ,IAAAA,SAAS,CAAC,UAAD,CAAT;AACD,GALD;;AAOA,QAAMK,SAAS,GAAG,MAAM;AACtB,UAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;AACA,QAAIC,CAAC,GAAG,IAAID,IAAJ,CAASD,IAAT,CAAR;AAAA,QACEG,KAAK,GAAG,MAAMD,CAAC,CAACE,QAAF,KAAe,CAArB,CADV;AAAA,QAEEC,GAAG,GAAG,KAAKH,CAAC,CAACI,OAAF,EAFb;AAAA,QAGEC,IAAI,GAAGL,CAAC,CAACM,WAAF,EAHT;AAIA,QAAIL,KAAK,CAACM,MAAN,GAAe,CAAnB,EAAsBN,KAAK,GAAG,MAAMA,KAAd;AACtB,QAAIE,GAAG,CAACI,MAAJ,GAAa,CAAjB,EAAoBJ,GAAG,GAAG,MAAMA,GAAZ;AACpB,WAAO,CAACE,IAAD,EAAOJ,KAAP,EAAcE,GAAd,EAAmBK,IAAnB,CAAwB,GAAxB,CAAP;AACD,GATD;;AAWF,QAAMZ,YAAY,GAAG;AACnBa,IAAAA,WAAW,EAAE,EADM;AAEnBC,IAAAA,IAAI,EAAE,EAFa;AAGnBC,IAAAA,aAAa,EAAE,MAHI;AAInBC,IAAAA,QAAQ,EAAE,KAJS;AAKnBd,IAAAA,IAAI,EAAED,SALa;AAMnBgB,IAAAA,QAAQ,EAAE,EANS;AAOnBC,IAAAA,aAAa,EAAE,EAPI;AAQnBC,IAAAA,SAAS,EAAE,CARQ;AASnBC,IAAAA,OAAO,EAAE,KATU;AAUnBC,IAAAA,GAAG,EAAE,CAVc;AAWnBC,IAAAA,MAAM,EAAE,CAXW;AAYnBC,IAAAA,WAAW,EAAE,EAZM;AAanBC,IAAAA,WAAW,EAAE;AAbM,GAArB;AAgBA,QAAM,CAACC,KAAD,EAAQ1B,QAAR,IAAoBpB,QAAQ,CAACqB,YAAD,CAAlC;AAEE,QAAM0B,QAAQ,GAAGrC,WAAW,EAA5B;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdoC,IAAAA,QAAQ,CAACnC,gBAAgB,EAAjB,CAAR,CACGoC,IADH,CACQ,MAAM;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AACD,KAHH,EAIGC,KAJH,CAIS,MAAM;AACXF,MAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACD,KANH;AAOD,GARQ,EAQN,CAACH,QAAD,EAAUD,KAAV,CARM,CAAT,CA9C2B,CAwD3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGF,QAAM;AAAEM,IAAAA,OAAO,EAAEC;AAAX,MAAuB5C,WAAW,CAAE6C,KAAD,IAAWA,KAAK,CAACC,aAAlB,CAAxC;;AAEE,QAAMC,YAAY,GAAIC,CAAD,IAAO;AAE1B,UAAMC,KAAK,GAAGL,OAAO,CAACM,SAAR,CACXC,CAAD,IAAOA,CAAC,CAACC,SAAF,CAAYC,QAAZ,OAA2BL,CAAC,CAACM,MAAF,CAASC,EAAT,CAAYF,QAAZ,EADtB,CAEZ;AAFY,KAAd;AAKAb,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAP0B,CAQ1B;;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,OAAO,CAACK,KAAD,CAAnB;AACAtC,IAAAA,QAAQ,CAACiC,OAAO,CAACK,KAAD,CAAR,CAAR,CAV0B,CAW1B;;AACAzC,IAAAA,SAAS,CAAC,aAAD,CAAT;AACAC,IAAAA,SAAS;AACV,GAdD;;AAgBA,QAAM+C,QAAQ,GAAID,EAAD,IAAQ;AACvB,wBACA,QAAC,QAAD;AAAA,8BACE,QAAC,QAAD,CAAU,MAAV;AAAiB,QAAA,EAAE,EAAC,cAApB;AAAmC,QAAA,OAAO,EAAC,WAA3C;AAAuD,QAAA,IAAI,EAAC,IAA5D;AAAA,gCACE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBADF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAKE,QAAC,QAAD,CAAU,IAAV;AAAe,QAAA,OAAO,EAAC,MAAvB;AAAA,gCACE,QAAC,QAAD,CAAU,IAAV;AAAe,UAAA,OAAO,EAAER,YAAxB;AAAsC,UAAA,EAAE,EAAEQ,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE,QAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAOE,QAAC,QAAD,CAAU,IAAV;AAAe,UAAA,EAAE,EAAE9D,IAAnB;AAAyB,UAAA,EAAE,EAAC,EAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADA;AAmBH,GApBC;;AAsBA,QAAM;AAAEgE,IAAAA;AAAF,MAAgB1D,MAAtB;;AACF,QAAM2D,WAAW,GAAIC,SAAD,IAAe;AACjCnB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,SAAZ;AACD,GAFD;;AAGA,QAAMC,SAAS,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACnC,QAAI,CAACD,KAAL,EACE,oBACE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA,6BACE;AAAM,QAAA,KAAK,EAAC,MAAZ;AAAA,4CACc;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBADd,eAEE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,CADF,KASK,IAAIA,KAAK,KAAK,KAAd,EACH,oBACE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA,0CACc;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cADd,eAEE;AAAM,QAAA,KAAK,EAAC,MAAZ;AAAA,+BACE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADG,KASA,IAAIA,KAAK,KAAK,MAAd,EACH,oBACE;AAAM,MAAA,SAAS,EAAC,WAAhB;AAAA,0CAEE;AAAM,QAAA,KAAK,EAAC,MAAZ;AAAA,+BACE;AAAG,UAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAFF,eAKE;AAAG,QAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,cALF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF;AASF,WAAO,IAAP;AACD,GA9BD;;AAgCA,QAAME,OAAO,GAAG,CACd;AACEC,IAAAA,SAAS,EAAE,MADb;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR;AAIE;AACAC,IAAAA,SAAS,EAAEP,SALb;AAMEQ,IAAAA,WAAW,EAAE,CAACN,MAAD,EAASO,QAAT,KAAsB;AACjC,aAAO;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAP;AACD;AARH,GADc,EAWd;AACEN,IAAAA,SAAS,EAAE,aADb;AAEEC,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR;AAIE;AACAC,IAAAA,SAAS,EAAEP;AALb,GAXc,EAkBd;AACEI,IAAAA,SAAS,EAAE,MADb;AAEEC,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR;AAIE;AACAC,IAAAA,SAAS,EAAEP;AALb,GAlBc,EAyBd;AACEI,IAAAA,SAAS,EAAE,aADb;AAEEC,IAAAA,IAAI,EAAE,aAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR,CAIE;;AAJF,GAzBc,EA+Bd;AACEF,IAAAA,SAAS,EAAE,QADb;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR;AAIE;AACAC,IAAAA,SAAS,EAAEP,SALb;AAMEQ,IAAAA,WAAW,EAAE,CAACN,MAAD,EAASO,QAAT,KAAsB;AACjC,aAAO;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAP;AACD;AARH,GA/Bc,EAyCd;AACEN,IAAAA,SAAS,EAAE,QADb;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,IAAI,EAAE,IAHR;AAIE;AACAC,IAAAA,SAAS,EAAEP;AALb,GAzCc,EAgDd;AACEI,IAAAA,SAAS,EAAE,SADb;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGEG,IAAAA,WAAW,EAAE,CAACN,MAAD,EAASO,QAAT,KAAsB;AACjC,aAAO;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAP;AACD,KALH,CAME;;AANF,GAhDc,CAAhB;AA0DA,QAAMC,SAAS,GAAG3B,OAAO,CAAC4B,GAAR,CAAaC,OAAD,IAAa;AACzC,QAAIC,SAAS,GAAG,WAAhB;;AACA,QAAID,OAAO,CAACE,MAAR,KAAmB,WAAvB,EAAoC;AAChCD,MAAAA,SAAS,GAAG,MAAZ;AACH,KAFD,MAGK,IAAID,OAAO,CAACE,MAAR,KAAmB,UAAvB,EAAmC;AACtCD,MAAAA,SAAS,GAAG,SAAZ;AACD,KAFI,MAGA,IAAID,OAAO,CAACE,MAAR,KAAmB,UAAvB,EAAmC;AACtCD,MAAAA,SAAS,GAAG,QAAZ;AACD;;AACD,UAAME,WAAW,GAAG;AAClB9D,MAAAA,IAAI,EAAG2D,OAAO,CAAC3D,IADG;AAElBW,MAAAA,WAAW,EAAGgD,OAAO,CAACI,OAAR,CAAgBpD,WAFZ;AAGlB;AAEAC,MAAAA,IAAI,EAAG+C,OAAO,CAAC/C,IALG;AAMlBS,MAAAA,WAAW,EAAGsC,OAAO,CAACtC,WANJ;AAOlBD,MAAAA,MAAM,EAAG4C,MAAM,CAACL,OAAO,CAACvC,MAAT,CAAN,GAAyB4C,MAAM,CAACL,OAAO,CAACxC,GAAT,CAPtB;AAQlB0C,MAAAA,MAAM,eAAG,QAAC,KAAD;AAAO,QAAA,EAAE,EAAED,SAAX;AAAA,kBAAuBD,OAAO,CAACE;AAA/B;AAAA;AAAA;AAAA;AAAA,cARS;AASlBI,MAAAA,OAAO,EAAGvB,QAAQ,CAACiB,OAAO,CAACrB,SAAT;AATA,KAApB;AAWA,WAAOwB,WAAP;AACD,GAvBiB,CAAlB,CAzM6B,CAkO7B;AACA;AACA;;AAEA,WAASI,MAAT,CAAgBC,KAAhB,EAAuBC,GAAvB,EAA4B;AAC1B,WAAOD,KAAK,GAAIC,GAAhB;AACD;;AACD,QAAMC,WAAW,GAAGZ,SAAS,CAACC,GAAV,CAAcnC,KAAK,IAAIA,KAAK,CAACH,MAA7B,EAAqCkD,MAArC,CAA4CJ,MAA5C,EAAmD,CAAnD,CAApB;AAEA,QAAMK,eAAe,GAAGd,SAAS,CAACe,MAAV,CAAiBtC,CAAC,IAAIA,CAAC,CAAC2B,MAAF,KAAa,UAAnC,EAA+CH,GAA/C,CAAmDnC,KAAK,IAAIA,KAAK,CAACH,MAAlE,EAA0EkD,MAA1E,CAAiFJ,MAAjF,EAAwF,CAAxF,CAAxB;AAEA,QAAMO,aAAa,GAAG,CACpB;AACEvB,IAAAA,SAAS,EAAE,MADb;AAEEH,IAAAA,KAAK,EAAE,MAFT,CAEiB;;AAFjB,GADoB,CAAtB,CA7O6B,CAoP7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGE,QAAM;AAAE2B,IAAAA,IAAI,EAAEC;AAAR,MAAwBzF,WAAW,CAAE6C,KAAD,IAAWA,KAAK,CAAC6C,IAAlB,CAAzC;AAEA,QAAMC,YAAY,GAAGF,WAAW,CAACG,SAAZ,GAAwB,GAAxB,GAA8BH,WAAW,CAACI,QAA/D;;AAEA,MAAI,CAACJ,WAAL,EAAkB;AAChB,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AAED,sBACE;AAAK,IAAA,IAAI,EAAC,MAAV;AAAA,4BAEE,QAAC,MAAD;AAAQ,MAAA,EAAE,EAAC,OAAX;AAAmB,MAAA,MAAM,EAAC,IAA1B;AAAA,6BACE,QAAC,UAAD;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,UAAD,CAAY,IAAZ;AAAiB,UAAA,IAAI,EAAC,OAAtB;AAAA,iCACE;AAAG,YAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAFF,eAQE,QAAC,UAAD,CAAY,IAAZ;AAAiB,UAAA,MAAM,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF,eAeE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEnB,QAAAA,KAAK,EAAE;AAAT,OAAb;AAA+B,MAAA,SAAS,EAAC,MAAzC;AAAA,8BACE,QAAC,IAAD,CAAM,MAAN;AAAa,QAAA,EAAE,EAAC,IAAhB;AAAA,+BACE,QAAC,GAAD;AAAA,iCACA;AAAK,YAAA,SAAS,EAAC,MAAf;AAAA,gDACE,QAAC,MAAD;AACE,cAAA,OAAO,EAAC,SADV;AAEE,cAAA,KAAK,EAAE;AAAEwB,gBAAAA,WAAW,EAAE;AAAf,eAFT;AAGE,cAAA,EAAE,EAAC,iBAHL;AAIE,cAAA,OAAO,EAAErF,SAJX;AAKE,cAAA,SAAS,EAAC,WALZ;AAAA,sCAOE;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAgBE,QAAC,MAAD;AACE,cAAA,OAAO,EAAC,MADV;AAEE,cAAA,KAAK,EAAE;AAAEqF,gBAAAA,WAAW,EAAE;AAAf,eAFT;AAGE,cAAA,EAAE,EAAC,YAHL;AAIE,cAAA,SAAS,EAAC,WAJZ;AAAA,sCAME;AAAG,gBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,sBANF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAhBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eA8BE,QAAC,IAAD,CAAM,IAAN;AAAA,+BACE;AAAA,iCAEE,QAAC,GAAD;AAAA,oCACE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAY,cAAA,IAAI,EAAC,UAAjB;AAAA,sCACE,QAAC,GAAD;AAAA,2BACG,GADH,eAEE;AAAA,6BACG,GADH,eAEE;AAAA,+BACG,GADH,eAEE;AAAG,sBAAA,SAAS,EAAC,cAAb;AAA4B,sBAAA,IAAI,EAAC;AAAjC;AAAA;AAAA;AAAA;AAAA,4BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,EAKW,GALX;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAWE,QAAC,GAAD;AAAA,uCACE;AAAG,kBAAA,SAAS,EAAC,WAAb;AAAA,4BAA2BH;AAA3B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eA6BE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAY,cAAA,IAAI,EAAC,YAAjB;AAAA,sCACE,QAAC,GAAD;AAAA,uCACE;AAAA,6BACG,GADH,eAEE;AAAA,4CACE;AAAG,sBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,4BADF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF,EAIW,GAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eASE,QAAC,GAAD;AAAA,uCACE;AAAI,kBAAA,SAAS,EAAC,WAAd;AAAA,qCAA+BR,WAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7BF,eA6CE,QAAC,GAAD;AAAK,cAAA,EAAE,EAAE,CAAT;AAAY,cAAA,IAAI,EAAC,YAAjB;AAAA,sCACE,QAAC,GAAD;AAAA,uCACE;AAAA,6BACG,GADH,eAEE;AAAA,4CACE;AAAG,sBAAA,SAAS,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,4BADF,8BAC2D,GAD3D;AAAA;AAAA;AAAA;AAAA;AAAA,0BAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBADF,eASE,QAAC,GAAD;AAAA,uCACE;AAAI,kBAAA,SAAS,EAAC,WAAd;AAAA,qCAA+BE,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,sBATF;AAAA;AAAA;AAAA;AAAA;AAAA,oBA7CF;AAAA;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA9BF;AAAA;AAAA;AAAA;AAAA;AAAA,YAfF,eA+GE;AAAA;AAAA;AAAA;AAAA,YA/GF,eAgHE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAEf,QAAAA,KAAK,EAAE;AAAT,OAAb;AAA+B,MAAA,SAAS,EAAC,MAAzC;AAAA,8BACE,QAAC,IAAD,CAAM,MAAN;AAAa,QAAA,EAAE,EAAC,IAAhB;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAIE,QAAC,IAAD,CAAM,IAAN;AAAA,+BACE,QAAC,eAAD;AACE,UAAA,QAAQ,EAAC,aADX;AAEE,UAAA,IAAI,EAAEC,SAFR;AAGE,UAAA,OAAO,EAAER,OAHX;AAIE,UAAA,MAAM,EAAE;AAAEL,YAAAA;AAAF,WAJV;AAAA,oBAMIqC,KAAD,iBACC;AAAA,oCACE,QAAC,SAAD;AAAW,cAAA,EAAE,EAAC,WAAd;AAAA,iBAA8BA,KAAK,CAACC;AAApC;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,QAAC,cAAD,CACE;AADF;AAEE,cAAA,QAAQ,EAAC,IAFX;AAGE,cAAA,IAAI,EAAEzB,SAHR;AAIE,cAAA,OAAO,EAAER,OAJX,CAKE;AALF;AAME,cAAA,aAAa,EAAC,cANhB,CAOE;AAPF;AAQE,cAAA,UAAU,EAAElE,iBAAiB,EAR/B,CASE;AACA;AAVF;AAAA,iBAYMkG,KAAK,CAACE;AAZZ;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA;AAPJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AAAA;AAAA;AAAA;AAAA,YAhHF,eAkJE;AAAA;AAAA;AAAA;AAAA,YAlJF,eAmJE,QAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAAE3B,QAAAA,KAAK,EAAE;AAAT,OAAb;AAA+B,MAAA,SAAS,EAAC,MAAzC;AAAA,8BACE,QAAC,IAAD,CAAM,IAAN;AAAA,mBACG,GADH,eAEE;AAAA,kCAiBE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,IAAI,EAAC,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF,EAmBY,GAnBZ,eAqBE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,MAAhB;AAAuB,YAAA,IAAI,EAAC,IAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBArBF,EAuBY,GAvBZ,eAwBE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,SAAhB;AAA0B,YAAA,IAAI,EAAC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBF,EA0BY,GA1BZ,eA2BE,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,QAAhB;AAAyB,YAAA,IAAI,EAAC,IAA9B;AAAA,mCACW,GADX;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BF,EA6BY,GA7BZ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAmCE,QAAC,eAAD;AAAiB,QAAA,IAAI,EAAEjE,IAAvB;AAA6B,QAAA,MAAM,EAAEK,SAArC;AAAgD,QAAA,IAAI,EAAE2B,KAAtD;AAA6D,QAAA,MAAM,EAAE9B;AAArE;AAAA;AAAA;AAAA;AAAA,cAnCF;AAAA;AAAA;AAAA;AAAA;AAAA,YAnJF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4LD,CA1cD;;GAAMH,e;UA6CaH,W,EAsBUD,W,EAmMGA,W;;;KAtQ1BI,e;AA4cN,eAAeA,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport AddExpenseEntry from \"./AddExpenseEntry\";\nimport {\n  Card,\n  Button,\n  Container,\n  Pagination,\n  Badge,\n  Form,\n  Table,\n  Dropdown,\n  Row,\n  Col,\n  FormControl,\n  FloatingLabel,\n} from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar } from \"react-bootstrap\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport \"./Expense.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\n// import filterFactory, { textFilter } from 'react-bootstrap-table2-filter';\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\n// import { InputGroup } from \"react-bootstrap\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\n\nimport { getExpenseSheets } from \"../../actions/expense.actions\";\n// import { getProjects } from \"../../actions/project\";\n\nconst AddExpenseSheet =() => {\n\n  const [show, setShow] = useState(false);\n\n  const[method, setMethod] = useState(\"AddEntry\");\n  const showModal = () => {\n    // console.log(\"working\");\n    setShow(true);\n  };\n  const hideModal = () => {\n    // console.log(\"working\");\n    setShow(false);\n    setEntry(initialEntry);\n    setMethod(\"AddEntry\")\n  };\n\n  const todayDate = () => {\n    const date = new Date();\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [year, month, day].join(\"-\");\n  };\n\nconst initialEntry = {\n  projectName: \"\",\n  name: \"\",\n  paymentMethod: \"CARD\",\n  currency: \"INR\",\n  date: todayDate,\n  billable: \"\",\n  reimburseable: \"\",\n  netAmount: 0,\n  taxZone: \"IND\",\n  tax: 0,\n  amount: 0,\n  description: \"\",\n  attachments: \"\",\n};\n\nconst [entry, setEntry] = useState(initialEntry)\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getExpenseSheets())\n      .then(() => {\n        console.log(\"Expenses fetched successfully\");\n      })\n      .catch(() => {\n        console.log(\"Unable to fetch Expenses\");\n      });\n  }, [dispatch,entry]);\n\n  // useEffect(() => {\n  //   dispatch(getProjects())\n  //     .then(() => {\n  //       console.log(\"Projects fetched successfully\");\n  //     })\n  //     .catch(() => {\n  //       console.log(\"Unable to fetch projects\");\n  //     });\n  // }, [dispatch]);\n\n\nconst { entries: content } = useSelector((state) => state.expenseSheets);\n\n  const handleSelect = (e) => {\n    \n    const index = content.findIndex(\n      (o) => o.expenseId.toString() === e.target.id.toString()\n      // (o) => console.log(o)\n    );\n\n    console.log(\"entering \");\n    // console.log(index);\n    console.log(content[index]);\n    setEntry(content[index]);\n    // console.log(entry);\n    setMethod(\"UpdateEntry\");\n    showModal();\n  };\n\n  const dropDown = (id) => {\n    return (\n    <Dropdown>\n      <Dropdown.Toggle id=\"options-menu\" variant=\"secondary\" size=\"sm\">\n        <i className=\"bi bi-gear-fill\"></i> Options\n      </Dropdown.Toggle>\n\n      <Dropdown.Menu variant=\"dark\">\n        <Dropdown.Item onClick={handleSelect} id={id}>\n          Edit Expense\n        </Dropdown.Item>\n        <Dropdown.Item >\n          View Attachment\n        </Dropdown.Item>\n        <Dropdown.Item as={Link} to=\"\">\n          Delete\n          </Dropdown.Item>\n      </Dropdown.Menu>\n    </Dropdown>\n    );\n};\n\n  const { SearchBar } = Search;\nconst afterSearch = (newResult) => {\n  console.log(newResult);\n};\nconst SortCaret = (order, column) => {\n  if (!order)\n    return (\n      <span className=\"float-end\">\n        <font color=\"grey\">\n          &nbsp;&nbsp;<i className=\"bi bi-caret-up-fill\"></i>\n          <i className=\"bi bi-caret-down-fill\"></i>\n        </font>\n      </span>\n    );\n  else if (order === \"asc\")\n    return (\n      <span className=\"float-end\">\n        &nbsp;&nbsp;<i className=\"bi bi-caret-up-fill\"></i>\n        <font color=\"grey\">\n          <i className=\"bi bi-caret-down-fill\"></i>\n        </font>\n      </span>\n    );\n  else if (order === \"desc\")\n    return (\n      <span className=\"float-end\">\n        &nbsp;&nbsp;\n        <font color=\"grey\">\n          <i className=\"bi bi-caret-up-fill\"></i>\n        </font>\n        <i className=\"bi bi-caret-down-fill\"></i>\n      </span>\n    );\n  return null;\n};\n\nconst columns = [\n  {\n    dataField: \"date\",\n    text: \"Date\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n    headerStyle: (column, colIndex) => {\n      return { width: \"150px\"};\n    },\n  },\n  {\n    dataField: \"projectName\",\n    text: \"Project Name\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n  },\n  {\n    dataField: \"name\",\n    text: \"Expense Name\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n  },\n  {\n    dataField: \"description\",\n    text: \"Description\",\n    sort: true,\n    // headerSortingStyle,\n  },\n  {\n    dataField: \"amount\",\n    text: \"Amount\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n    headerStyle: (column, colIndex) => {\n      return { width: \"150px\" };\n    },\n  },\n  {\n    dataField: \"status\",\n    text: \"Status\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n  },\n  {\n    dataField: 'options',\n    text: \"Options\",\n    headerStyle: (column, colIndex) => {\n      return { width: \"150px\" };\n    },\n    // sort: true\n  },\n];\n\nconst entryData = content.map((expense) => {\n  var BadgeType = \"secondary\"\n  if (expense.status === \"SUBMITTED\") {\n      BadgeType = \"info\"\n  }\n  else if (expense.status === \"APPROVED\") {\n    BadgeType = \"success\"\n  }\n  else if (expense.status === \"REJECTED\") {\n    BadgeType = \"danger\"\n  }\n  const expenseData = {\n    date : expense.date,\n    projectName : expense.project.projectName,\n    // projectName : \"dummy prj name\",\n\n    name : expense.name,\n    description : expense.description,\n    amount : Number(expense.amount) + Number(expense.tax),\n    status : <Badge bg={BadgeType}>{expense.status}</Badge>,\n    options : dropDown(expense.expenseId),\n  };\n  return expenseData;\n});\n\n// console.log(\"ffffff\")\n// console.log(entryData.map(entry => entry.amount));\n// console.log(entryData.map(entry => entry.amount).reduce(getSum,0));\n\nfunction getSum(total, num) {\n  return total + (num);\n}\nconst totalAmount = entryData.map(entry => entry.amount).reduce(getSum,0);\n\nconst totalReimbursed = entryData.filter(e => e.status === \"APPROVED\").map(entry => entry.amount).reduce(getSum,0);\n\nconst defaultSorted = [\n  {\n    dataField: \"date\",\n    order: \"desc\", //desc and asc\n  },\n];\n\n// const products = [\n//   {\n//     id: \"1\",\n//     date: \"31-13-23\",\n//     description: \"aaa\",\n//     amount: \"2424\",\n//     options: dropDown(1)\n//   },\n//   {\n//     id: \"2\",\n//     date: \"21-13-23\",\n//     description: \"bbb\",\n//     amount: \"43524\",\n//     options: dropDown\n//   },\n// ];\n\n\n  const { user: currentUser } = useSelector((state) => state.auth);\n\n  const employeeName = currentUser.firstName + \" \" + currentUser.lastName;\n\n  if (!currentUser) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <div type=\"card\">\n      {/* <Container> */}\n      <Navbar bg=\"light\" expand=\"lg\">\n        <Breadcrumb>\n          <div className=\"ms-5\" />\n          <Breadcrumb.Item href=\"/home\">\n            <a className=\"text-muted\">Home</a>\n          </Breadcrumb.Item>\n          {/* <Breadcrumb.Item href=\"/expenseSheet\">\n            <a className=\"text-muted\"> My Expense Sheets </a>\n          </Breadcrumb.Item> */}\n          <Breadcrumb.Item active> My Expense Entries</Breadcrumb.Item>\n        </Breadcrumb>\n      </Navbar>\n\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Header as=\"h3\">\n          <Col>\n          <div className=\"dark\">EXPENSES \n            <Button\n              variant=\"success\"\n              style={{ marginRight: 5 }}\n              id=\"addExpenseEntry\"\n              onClick={showModal}\n              className=\"float-end\"\n            >\n              <i className=\"bi bi-plus\"></i> Add Expense Entry\n            </Button>\n            {/* <Button variant=\"success\" style={{marginRight : 5}} id=\"updateSheet\"  >\n                <i className=\"bi bi-pencil-square\"></i> Update Sheet\n                </Button>\n                <Button variant=\"primary\" style={{marginRight : 5}} id=\"submitSheet\"  >\n                <i className=\"bi bi-box-arrow-in-up\"></i> Submit */}\n            {/* </Button> */}\n            <Button\n              variant=\"dark\"\n              style={{ marginRight: 5 }}\n              id=\"printSheet\"\n              className=\"float-end\"\n            >\n              <i className=\"bi bi-printer\"></i> Print\n            </Button>\n            </div>\n          </Col>\n        </Card.Header>\n        <Card.Body>\n          <div>\n            {/* <Container > */}\n            <Row>\n              <Col xs={4} type=\"wide-col\">\n                <Row>\n                  {\" \"}\n                  <div>\n                    {\" \"}\n                    <small>\n                      {\" \"}\n                      <i className=\"bi bi-person\" type=\"employee-icon\"></i> Employee\n                    </small>{\" \"}\n                  </div>\n                </Row>\n                <Row>\n                  <p className=\"display-6\" >{employeeName}</p>\n                </Row>\n              </Col>\n              {/* <Col md={1} type=\"date-col\">\n                <Row>\n                  <div>\n                    {\" \"}\n                    <small>\n                      <i className=\"bi bi-calender4-week\"></i> Date{\" \"}\n                    </small>{\" \"}\n                  </div>\n                </Row>\n                <Row>\n                  <input type=\"date\" id=\"entry-date\"></input>{\" \"}\n                </Row>\n              </Col> */}\n              <Col xs={4} type=\"amount-col\">\n                <Row>\n                  <div>\n                    {\" \"}\n                    <small>\n                      <i className=\"bi bi-cash\"></i> Total Expenses Amount\n                    </small>{\" \"}\n                  </div>\n                </Row>\n                <Row>\n                  <h1 className=\"display-6\">INR {totalAmount}\n                  \n                  </h1>\n                </Row>\n              </Col>\n              \n              <Col xs={4} type=\"amount-col\">\n                <Row>\n                  <div>\n                    {\" \"}\n                    <small>\n                      <i className=\"bi bi-wallet\"></i> Total Reimbursed Amount{\" \"}\n                    </small>\n                  </div>\n                </Row>\n                <Row>\n                  <h1 className=\"display-6\">INR {totalReimbursed}</h1>\n                </Row>\n              </Col>\n            </Row>\n            {/* </Container> */}\n          </div>\n        </Card.Body>\n      </Card>\n      <br />\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Header as=\"h5\">\n          <div className=\"text-primary\">EXPENSE ENTRY LIST</div>\n        </Card.Header>\n        <Card.Body>\n          <ToolkitProvider\n            keyField=\"description\"\n            data={entryData}\n            columns={columns}\n            search={{ afterSearch }}\n          >\n            {(props) => (\n              <div>\n                <SearchBar id=\"searchbar\" {...props.searchProps} />\n                <br />\n                <BootstrapTable\n                  //   ref={ n => this.node = n }\n                  keyField=\"id\"\n                  data={entryData}\n                  columns={columns}\n                  // defaultSorted={defaultSorted}\n                  headerClasses=\"header-class\"\n                  //   filter={ filterFactory() }\n                  pagination={paginationFactory()}\n                  // selectRow={{ mode: \"checkbox\", clickToSelect: true }}\n                  //   expandRow={ expandRow }\n\n                  {...props.baseProps}\n                />\n              </div>\n            )}\n          </ToolkitProvider>\n        </Card.Body>\n      </Card>\n      <br />\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Body>\n          {\" \"}\n          <div>\n            {/* <InputGroup className=\"mb-3\">\n              <InputGroup.Text id=\"basic-addon1\">@</InputGroup.Text>\n              <FloatingLabel\n                style={{ width: \"100%\" }}\n                controlId=\"floatingTextarea\"\n                label=\"Description\"\n                className=\"mb-3\"\n              >\n                <Form.Control\n                  as=\"textarea\"\n                  placeholder=\"Leave a comment here\"\n                  type=\"long-description2\"\n                />{\" \"}\n              </FloatingLabel>{\" \"}\n            </InputGroup>\n            <br /> */}\n            <Button variant=\"secondary\" size=\"sm\">\n              Status Legend\n            </Button>{\" \"}\n            {/* <Button variant=\"warning\" size=\"sm\">Not Submitted</Button>{' '} */}\n            <Button variant=\"info\" size=\"sm\">\n              Submitted\n            </Button>{\" \"}\n            <Button variant=\"success\" size=\"sm\">\n              Approved\n            </Button>{\" \"}\n            <Button variant=\"danger\" size=\"sm\">\n              Rejected{\" \"}\n            </Button>{\" \"}\n          </div>\n        </Card.Body>\n        <AddExpenseEntry show={show} onHide={hideModal} data={entry} method={method}/>\n      </Card>\n      {/* </Container> */}\n    </div>\n  );\n};\n\nexport default AddExpenseSheet;\n"]},"metadata":{},"sourceType":"module"}