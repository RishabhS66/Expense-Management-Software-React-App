{"ast":null,"code":"var _jsxFileName = \"/Users/rissriva/Desktop/ExpenseManagementSystem/ExpenseManagement/frontend/src/components/Expense/AddExpenseSheet.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport AddExpenseEntry from \"./AddExpenseEntry\";\nimport { Card, Button, Badge, Dropdown, Row, Col } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar } from \"react-bootstrap\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport \"./Expense.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport { deleteEntry } from \"../../actions/expense.actions\";\nimport { getExpenseSheets } from \"../../actions/expense.actions\";\nimport attachmentsService from \"../../services/attachments.service\"; // import { getProjects } from \"../../actions/project\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddExpenseSheet = () => {\n  _s();\n\n  const [show, setShow] = useState(false);\n  const [method, setMethod] = useState(\"Add\");\n\n  const showModal = () => {\n    // console.log(\"working\");\n    setShow(true);\n  };\n\n  const hideModal = () => {\n    // console.log(\"working\");\n    setShow(false);\n    setEntry(initialEntry);\n    setMethod(\"Add\");\n  };\n\n  const todayDate = () => {\n    const date = new Date();\n    var d = new Date(date),\n        month = \"\" + (d.getMonth() + 1),\n        day = \"\" + d.getDate(),\n        year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [year, month, day].join(\"-\");\n  };\n\n  const initialEntry = {\n    projectName: \"\",\n    name: \"\",\n    paymentMethod: \"CARD\",\n    currency: \"INR\",\n    date: todayDate(),\n    billable: \"\",\n    reimburseable: \"\",\n    netAmount: 0,\n    taxZone: \"IND\",\n    tax: 0,\n    amount: 0,\n    description: \"\",\n    attachments: \"\",\n    file: null\n  };\n  const [entry, setEntry] = useState(initialEntry);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getExpenseSheets()).then(() => {\n      console.log(\"Expenses fetched successfully\");\n    }).catch(() => {\n      alert(\"Unable to fetch Expenses\");\n    });\n  }, [dispatch, entry]); // useEffect(() => {\n  //   dispatch(getProjects())\n  //     .then(() => {\n  //       console.log(\"Projects fetched successfully\");\n  //     })\n  //     .catch(() => {\n  //       console.log(\"Unable to fetch projects\");\n  //     });\n  // }, [dispatch]);\n\n  const {\n    entries: content\n  } = useSelector(state => state.expenseSheets); // console.log(\"Les See -> \", content);\n\n  const transformDate = date => {\n    const splitDate = date.split(\"-\");\n    const newDateList = splitDate.reverse();\n    const newDate = newDateList.join(\"-\");\n    return newDate;\n  };\n\n  const handleSelect = e => {\n    showModal();\n    const index = content.findIndex(o => o.expenseId.toString() === e.target.id.toString() // (o) => console.log(o)\n    ); // console.log(\"entering \");\n    // console.log(index);\n    // console.log(content[index]);\n\n    let dataGot = content[index];\n    let toPass = {\n      expenseId: \"\",\n      projectName: \"\",\n      name: \"\",\n      paymentMethod: \"CARD\",\n      currency: \"INR\",\n      date: \"\",\n      billable: \"\",\n      reimburseable: \"\",\n      netAmount: 0,\n      taxZone: \"IND\",\n      tax: 0,\n      amount: 0,\n      description: \"\",\n      attachments: \"\"\n    };\n    toPass.expenseId = dataGot.expenseId;\n    toPass.projectName = dataGot.project.id;\n    toPass.name = dataGot.name;\n    toPass.paymentMethod = dataGot.paymentMethod;\n    toPass.currency = dataGot.currency;\n    toPass.date = transformDate(dataGot.date);\n    toPass.billable = dataGot.billable;\n    toPass.reimburseable = dataGot.reimburseable;\n    toPass.netAmount = dataGot.netAmount;\n    toPass.taxZone = dataGot.taxZone;\n    toPass.tax = dataGot.tax;\n    toPass.amount = dataGot.amount;\n    toPass.description = dataGot.description;\n    toPass.attachments = dataGot.attachments;\n    setEntry(toPass); // console.log(entry);\n\n    setMethod(\"Edit\");\n  };\n\n  const handleDelete = e => {\n    // const payload = [Number(e.target.id)]\n    dispatch(deleteEntry(e.target.id)).then(() => {\n      dispatch(getExpenseSheets()).then(() => {\n        console.log(\"Entries fetched successfully\");\n      }).catch(() => {\n        alert(\"Unable to fetch entries\");\n      });\n    }).catch(() => {\n      alert(\"Could not delete entry!!\");\n    });\n  };\n\n  const handleDownload = e => {\n    attachmentsService.downloadDoc(e.target.id).then(response => {\n      // console.log(\"Downloaded! \", response);\n      //Create a Blob from the PDF Stream\n      const file = new Blob([response], {\n        type: \"application/pdf\"\n      }); //Build a URL from the file\n\n      const fileURL = URL.createObjectURL(file); //Open the URL on new Window\n\n      window.open(fileURL);\n    }).catch(() => {\n      alert(\"Could Not Download!\");\n    });\n  };\n\n  const dropDown = (id, attachmentId) => {\n    return /*#__PURE__*/_jsxDEV(Dropdown, {\n      children: [/*#__PURE__*/_jsxDEV(Dropdown.Toggle, {\n        id: \"options-menu\",\n        variant: \"secondary\",\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-gear-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), \" Options\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Dropdown.Menu, {\n        variant: \"dark\",\n        children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: handleSelect,\n          id: id,\n          children: \"Edit Expense\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: handleDownload,\n          id: attachmentId,\n          children: \"View Attachment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n          onClick: handleDelete,\n          id: id,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this);\n  };\n\n  const {\n    SearchBar\n  } = Search;\n\n  const afterSearch = newResult => {\n    console.log(newResult);\n  };\n\n  const SortCaret = (order, column) => {\n    if (!order) return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-up-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-down-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 9\n    }, this);else if (order === \"asc\") return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-caret-up-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-down-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this);else if (order === \"desc\") return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"float-end\",\n      children: [\"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"font\", {\n        color: \"grey\",\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-caret-up-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"bi bi-caret-down-fill\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this);\n    return null;\n  };\n\n  const columns = [{\n    dataField: \"date\",\n    text: \"Date\",\n    sort: true,\n    // headerSortingStyle,\n    sortCaret: SortCaret,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    }\n  }, {\n    dataField: \"projectName\",\n    text: \"Project Name\",\n    sort: true,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"250px\"\n      };\n    },\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: \"name\",\n    text: \"Expense Name\",\n    sort: true,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"250px\"\n      };\n    },\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: \"description\",\n    text: \"Description\",\n    sort: true // headerSortingStyle,\n\n  }, {\n    dataField: \"amount\",\n    text: \"Amount\",\n    sort: true,\n    sortCaret: SortCaret,\n    // headerSortingStyle,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    }\n  }, {\n    dataField: \"status\",\n    text: \"Status\",\n    sort: true,\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    },\n    // headerSortingStyle,\n    sortCaret: SortCaret\n  }, {\n    dataField: \"options\",\n    text: \"Options\",\n    headerStyle: (column, colIndex) => {\n      return {\n        width: \"150px\"\n      };\n    } // sort: true\n\n  }];\n  const entryData = content.map(expense => {\n    var BadgeType = \"secondary\";\n\n    if (expense.status === \"SUBMITTED\") {\n      BadgeType = \"info\";\n    } else if (expense.status === \"APPROVED\") {\n      BadgeType = \"success\";\n    } else if (expense.status === \"REJECTED\") {\n      BadgeType = \"danger\";\n    }\n\n    const attachmentId = expense.attachments.length > 0 ? expense.attachments[0].id : -1;\n    const expenseData = {\n      date: expense.date,\n      projectName: expense.project.projectName,\n      name: expense.name,\n      description: expense.description,\n      amount: Number(expense.amount) + Number(expense.tax),\n      status: /*#__PURE__*/_jsxDEV(Badge, {\n        bg: BadgeType,\n        children: expense.status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 15\n      }, this),\n      options: dropDown(expense.expenseId, attachmentId)\n    };\n    return expenseData;\n  });\n\n  function getSum(total, num) {\n    return total + num;\n  }\n\n  const totalAmount = content.map(entry => entry.amount + entry.tax).reduce(getSum, 0);\n  const totalReimbursed = content.filter(e => e.status === \"APPROVED\").map(entry => entry.amount + entry.tax).reduce(getSum, 0);\n  const defaultSorted = [{\n    dataField: \"date\",\n    order: \"desc\" //desc and asc\n\n  }];\n  const {\n    user: currentUser\n  } = useSelector(state => state.auth);\n  const employeeName = currentUser.firstName + \" \" + currentUser.lastName;\n\n  if (!currentUser) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      expand: \"lg\",\n      bg: \"light\",\n      children: /*#__PURE__*/_jsxDEV(Navbar.Text, {\n        children: [\"\\xA0 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Dashboard : Expenses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 18\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h4\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dark\",\n            children: [\"EXPENSES\", /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"success\" // style={{ marginRight: 5 }}\n              ,\n              id: \"addExpenseEntry\",\n              onClick: showModal,\n              className: \"float-end\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"bi bi-plus\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), \" Add Expense Entry\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"wide-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [\" \", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-person\",\n                      type: \"employee-icon\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 23\n                    }, this), \" \", \"Employee\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 21\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"display-6\",\n                  children: employeeName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"amount-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-cash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 23\n                    }, this), \" Total Expenses Amount\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 21\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"display-6\",\n                  children: [\"INR \", Number(totalAmount).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 412,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              xs: 4,\n              type: \"amount-col\",\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(\"small\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"bi bi-wallet\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 23\n                    }, this), \" Total Reimbursed Amount\", \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 419,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"display-6\",\n                  children: [\"INR \", Number(totalReimbursed).toFixed(2)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 418,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 366,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n        as: \"h5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-primary\",\n          children: \"EXPENSE ENTRY LIST\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(ToolkitProvider, {\n          keyField: \"description\",\n          data: entryData,\n          columns: columns,\n          search: {\n            afterSearch\n          },\n          children: props => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n              id: \"searchbar\",\n              ...props.searchProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(BootstrapTable, {\n              keyField: \"id\",\n              data: entryData,\n              columns: columns,\n              defaultSorted: defaultSorted,\n              headerClasses: \"header-class\",\n              pagination: paginationFactory(),\n              ...props.baseProps\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: \"95%\"\n      },\n      className: \"ms-5\",\n      children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            size: \"sm\",\n            children: \"Status Legend\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 472,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"info\",\n            size: \"sm\",\n            children: \"Submitted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            size: \"sm\",\n            children: \"Approved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            size: \"sm\",\n            children: [\"Rejected\", \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AddExpenseEntry, {\n        show: show,\n        onHide: hideModal,\n        data: entry,\n        method: method\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 468,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddExpenseSheet, \"ZUARwFti4kTAmgLf1IWn4fhXSug=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = AddExpenseSheet;\nexport default AddExpenseSheet;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddExpenseSheet\");","map":{"version":3,"sources":["/Users/rissriva/Desktop/ExpenseManagementSystem/ExpenseManagement/frontend/src/components/Expense/AddExpenseSheet.js"],"names":["React","AddExpenseEntry","Card","Button","Badge","Dropdown","Row","Col","useState","Redirect","Link","Navbar","Breadcrumb","BootstrapTable","paginationFactory","ToolkitProvider","Search","useSelector","useDispatch","useEffect","deleteEntry","getExpenseSheets","attachmentsService","AddExpenseSheet","show","setShow","method","setMethod","showModal","hideModal","setEntry","initialEntry","todayDate","date","Date","d","month","getMonth","day","getDate","year","getFullYear","length","join","projectName","name","paymentMethod","currency","billable","reimburseable","netAmount","taxZone","tax","amount","description","attachments","file","entry","dispatch","then","console","log","catch","alert","entries","content","state","expenseSheets","transformDate","splitDate","split","newDateList","reverse","newDate","handleSelect","e","index","findIndex","o","expenseId","toString","target","id","dataGot","toPass","project","handleDelete","handleDownload","downloadDoc","response","Blob","type","fileURL","URL","createObjectURL","window","open","dropDown","attachmentId","SearchBar","afterSearch","newResult","SortCaret","order","column","columns","dataField","text","sort","sortCaret","headerStyle","colIndex","width","entryData","map","expense","BadgeType","status","expenseData","Number","options","getSum","total","num","totalAmount","reduce","totalReimbursed","filter","defaultSorted","user","currentUser","auth","employeeName","firstName","lastName","toFixed","props","searchProps","baseProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport AddExpenseEntry from \"./AddExpenseEntry\";\nimport { Card, Button, Badge, Dropdown, Row, Col } from \"react-bootstrap\";\nimport { useState } from \"react\";\nimport { Redirect } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { Navbar } from \"react-bootstrap\";\nimport \"react-bootstrap-table-next/dist/react-bootstrap-table2.min.css\";\nimport Breadcrumb from \"react-bootstrap/Breadcrumb\";\nimport \"./Expense.css\";\nimport BootstrapTable from \"react-bootstrap-table-next\";\nimport paginationFactory from \"react-bootstrap-table2-paginator\";\nimport ToolkitProvider, { Search } from \"react-bootstrap-table2-toolkit\";\nimport { useSelector } from \"react-redux\";\nimport { useDispatch } from \"react-redux\";\nimport { useEffect } from \"react\";\n\nimport { deleteEntry } from \"../../actions/expense.actions\";\nimport { getExpenseSheets } from \"../../actions/expense.actions\";\nimport attachmentsService from \"../../services/attachments.service\";\n// import { getProjects } from \"../../actions/project\";\n\nconst AddExpenseSheet = () => {\n  const [show, setShow] = useState(false);\n  const [method, setMethod] = useState(\"Add\");\n  const showModal = () => {\n    // console.log(\"working\");\n    setShow(true);\n  };\n  const hideModal = () => {\n    // console.log(\"working\");\n    setShow(false);\n    setEntry(initialEntry);\n    setMethod(\"Add\");\n  };\n\n  const todayDate = () => {\n    const date = new Date();\n    var d = new Date(date),\n      month = \"\" + (d.getMonth() + 1),\n      day = \"\" + d.getDate(),\n      year = d.getFullYear();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    return [year, month, day].join(\"-\");\n  };\n\n  const initialEntry = {\n    projectName: \"\",\n    name: \"\",\n    paymentMethod: \"CARD\",\n    currency: \"INR\",\n    date: todayDate(),\n    billable: \"\",\n    reimburseable: \"\",\n    netAmount: 0,\n    taxZone: \"IND\",\n    tax: 0,\n    amount: 0,\n    description: \"\",\n    attachments: \"\",\n    file: null,\n  };\n\n  const [entry, setEntry] = useState(initialEntry);\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(getExpenseSheets())\n      .then(() => {\n        console.log(\"Expenses fetched successfully\");\n      })\n      .catch(() => {\n        alert(\"Unable to fetch Expenses\");\n      });\n  }, [dispatch, entry]);\n\n  // useEffect(() => {\n  //   dispatch(getProjects())\n  //     .then(() => {\n  //       console.log(\"Projects fetched successfully\");\n  //     })\n  //     .catch(() => {\n  //       console.log(\"Unable to fetch projects\");\n  //     });\n  // }, [dispatch]);\n\n  const { entries: content } = useSelector((state) => state.expenseSheets);\n  // console.log(\"Les See -> \", content);\n\n  const transformDate = (date) => {\n    const splitDate = date.split(\"-\");\n    const newDateList = splitDate.reverse();\n    const newDate = newDateList.join(\"-\");\n\n    return newDate;\n  };\n\n  const handleSelect = (e) => {\n    showModal();\n    const index = content.findIndex(\n      (o) => o.expenseId.toString() === e.target.id.toString()\n      // (o) => console.log(o)\n    );\n\n    // console.log(\"entering \");\n    // console.log(index);\n    // console.log(content[index]);\n    let dataGot = content[index];\n    let toPass = {\n      expenseId: \"\",\n      projectName: \"\",\n      name: \"\",\n      paymentMethod: \"CARD\",\n      currency: \"INR\",\n      date: \"\",\n      billable: \"\",\n      reimburseable: \"\",\n      netAmount: 0,\n      taxZone: \"IND\",\n      tax: 0,\n      amount: 0,\n      description: \"\",\n      attachments: \"\",\n    };\n    toPass.expenseId = dataGot.expenseId;\n    toPass.projectName = dataGot.project.id;\n    toPass.name = dataGot.name;\n    toPass.paymentMethod = dataGot.paymentMethod;\n    toPass.currency = dataGot.currency;\n    toPass.date = transformDate(dataGot.date);\n    toPass.billable = dataGot.billable;\n    toPass.reimburseable = dataGot.reimburseable;\n    toPass.netAmount = dataGot.netAmount;\n    toPass.taxZone = dataGot.taxZone;\n    toPass.tax = dataGot.tax;\n    toPass.amount = dataGot.amount;\n    toPass.description = dataGot.description;\n    toPass.attachments = dataGot.attachments;\n\n    setEntry(toPass);\n    // console.log(entry);\n    setMethod(\"Edit\");\n  };\n\n  const handleDelete = (e) => {\n    // const payload = [Number(e.target.id)]\n    dispatch(deleteEntry(e.target.id))\n      .then(() => {\n        dispatch(getExpenseSheets())\n          .then(() => {\n            console.log(\"Entries fetched successfully\");\n          })\n          .catch(() => {\n            alert(\"Unable to fetch entries\");\n          });\n      })\n      .catch(() => {\n        alert(\"Could not delete entry!!\");\n      });\n  };\n\n  const handleDownload = (e) => {\n    attachmentsService\n      .downloadDoc(e.target.id)\n      .then((response) => {\n        // console.log(\"Downloaded! \", response);\n        //Create a Blob from the PDF Stream\n        const file = new Blob([response], { type: \"application/pdf\" });\n        //Build a URL from the file\n        const fileURL = URL.createObjectURL(file);\n        //Open the URL on new Window\n        window.open(fileURL);\n      })\n      .catch(() => {\n        alert(\"Could Not Download!\");\n      });\n  };\n\n  const dropDown = (id, attachmentId) => {\n    return (\n      <Dropdown>\n        <Dropdown.Toggle id=\"options-menu\" variant=\"secondary\" size=\"sm\">\n          <i className=\"bi bi-gear-fill\"></i> Options\n        </Dropdown.Toggle>\n\n        <Dropdown.Menu variant=\"dark\">\n          <Dropdown.Item onClick={handleSelect} id={id}>\n            Edit Expense\n          </Dropdown.Item>\n          <Dropdown.Item onClick={handleDownload} id={attachmentId}>\n            View Attachment\n          </Dropdown.Item>\n          <Dropdown.Item onClick={handleDelete} id={id}>\n            Delete\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      </Dropdown>\n    );\n  };\n\n  const { SearchBar } = Search;\n  const afterSearch = (newResult) => {\n    console.log(newResult);\n  };\n  const SortCaret = (order, column) => {\n    if (!order)\n      return (\n        <span className=\"float-end\">\n          <font color=\"grey\">\n            &nbsp;&nbsp;<i className=\"bi bi-caret-up-fill\"></i>\n            <i className=\"bi bi-caret-down-fill\"></i>\n          </font>\n        </span>\n      );\n    else if (order === \"asc\")\n      return (\n        <span className=\"float-end\">\n          &nbsp;&nbsp;<i className=\"bi bi-caret-up-fill\"></i>\n          <font color=\"grey\">\n            <i className=\"bi bi-caret-down-fill\"></i>\n          </font>\n        </span>\n      );\n    else if (order === \"desc\")\n      return (\n        <span className=\"float-end\">\n          &nbsp;&nbsp;\n          <font color=\"grey\">\n            <i className=\"bi bi-caret-up-fill\"></i>\n          </font>\n          <i className=\"bi bi-caret-down-fill\"></i>\n        </span>\n      );\n    return null;\n  };\n\n  const columns = [\n    {\n      dataField: \"date\",\n      text: \"Date\",\n      sort: true,\n      // headerSortingStyle,\n      sortCaret: SortCaret,\n      headerStyle: (column, colIndex) => {\n        return { width: \"150px\" };\n      },\n    },\n    {\n      dataField: \"projectName\",\n      text: \"Project Name\",\n      sort: true,\n      headerStyle: (column, colIndex) => {\n        return { width: \"250px\" };\n      },\n      // headerSortingStyle,\n      sortCaret: SortCaret,\n    },\n    {\n      dataField: \"name\",\n      text: \"Expense Name\",\n      sort: true,\n      headerStyle: (column, colIndex) => {\n        return { width: \"250px\" };\n      },\n      // headerSortingStyle,\n      sortCaret: SortCaret,\n    },\n    {\n      dataField: \"description\",\n      text: \"Description\",\n      sort: true,\n      // headerSortingStyle,\n    },\n    {\n      dataField: \"amount\",\n      text: \"Amount\",\n      sort: true,\n\n      sortCaret: SortCaret,\n      // headerSortingStyle,\n      headerStyle: (column, colIndex) => {\n        return { width: \"150px\" };\n      },\n    },\n    {\n      dataField: \"status\",\n      text: \"Status\",\n      sort: true,\n      headerStyle: (column, colIndex) => {\n        return { width: \"150px\" };\n      },\n      // headerSortingStyle,\n      sortCaret: SortCaret,\n    },\n    {\n      dataField: \"options\",\n      text: \"Options\",\n      headerStyle: (column, colIndex) => {\n        return { width: \"150px\" };\n      },\n      // sort: true\n    },\n  ];\n\n  const entryData = content.map((expense) => {\n    var BadgeType = \"secondary\";\n    if (expense.status === \"SUBMITTED\") {\n      BadgeType = \"info\";\n    } else if (expense.status === \"APPROVED\") {\n      BadgeType = \"success\";\n    } else if (expense.status === \"REJECTED\") {\n      BadgeType = \"danger\";\n    }\n    const attachmentId =\n      expense.attachments.length > 0 ? expense.attachments[0].id : -1;\n\n    const expenseData = {\n      date: expense.date,\n      projectName: expense.project.projectName,\n      name: expense.name,\n      description: expense.description,\n      amount: Number(expense.amount) + Number(expense.tax),\n      status: <Badge bg={BadgeType}>{expense.status}</Badge>,\n      options: dropDown(expense.expenseId, attachmentId),\n    };\n    return expenseData;\n  });\n\n  function getSum(total, num) {\n    return total + num;\n  }\n\n  const totalAmount = content\n    .map((entry) => entry.amount + entry.tax)\n    .reduce(getSum, 0);\n\n  const totalReimbursed = content\n    .filter((e) => e.status === \"APPROVED\")\n    .map((entry) => entry.amount + entry.tax)\n    .reduce(getSum, 0);\n\n  const defaultSorted = [\n    {\n      dataField: \"date\",\n      order: \"desc\", //desc and asc\n    },\n  ];\n\n  const { user: currentUser } = useSelector((state) => state.auth);\n\n  const employeeName = currentUser.firstName + \" \" + currentUser.lastName;\n\n  if (!currentUser) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n    <>\n      <Navbar expand=\"lg\" bg=\"light\">\n        <Navbar.Text>\n          &nbsp; <strong>Dashboard : Expenses</strong>\n        </Navbar.Text>\n      </Navbar>\n      <br />\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Header as=\"h4\">\n          <Col>\n            <div className=\"dark\">\n              EXPENSES\n              <Button\n                variant=\"success\"\n                // style={{ marginRight: 5 }}\n                id=\"addExpenseEntry\"\n                onClick={showModal}\n                className=\"float-end\"\n              >\n                <i className=\"bi bi-plus\"></i> Add Expense Entry\n              </Button>\n            </div>\n          </Col>\n        </Card.Header>\n        <Card.Body>\n          <div>\n            <Row>\n              <Col xs={4} type=\"wide-col\">\n                <Row>\n                  {\" \"}\n                  <div>\n                    {\" \"}\n                    <small>\n                      {\" \"}\n                      <i className=\"bi bi-person\" type=\"employee-icon\"></i>{\" \"}\n                      Employee\n                    </small>{\" \"}\n                  </div>\n                </Row>\n                <Row>\n                  <p className=\"display-6\">{employeeName}</p>\n                </Row>\n              </Col>\n              <Col xs={4} type=\"amount-col\">\n                <Row>\n                  <div>\n                    {\" \"}\n                    <small>\n                      <i className=\"bi bi-cash\"></i> Total Expenses Amount\n                    </small>{\" \"}\n                  </div>\n                </Row>\n                <Row>\n                  <h1 className=\"display-6\">\n                    INR {Number(totalAmount).toFixed(2)}\n                  </h1>\n                </Row>\n              </Col>\n\n              <Col xs={4} type=\"amount-col\">\n                <Row>\n                  <div>\n                    {\" \"}\n                    <small>\n                      <i className=\"bi bi-wallet\"></i> Total Reimbursed Amount{\" \"}\n                    </small>\n                  </div>\n                </Row>\n                <Row>\n                  <h1 className=\"display-6\">\n                    INR {Number(totalReimbursed).toFixed(2)}\n                  </h1>\n                </Row>\n              </Col>\n            </Row>\n          </div>\n        </Card.Body>\n      </Card>\n      <br />\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Header as=\"h5\">\n          <div className=\"text-primary\">EXPENSE ENTRY LIST</div>\n        </Card.Header>\n        <Card.Body>\n          <ToolkitProvider\n            keyField=\"description\"\n            data={entryData}\n            columns={columns}\n            search={{ afterSearch }}\n          >\n            {(props) => (\n              <div>\n                <SearchBar id=\"searchbar\" {...props.searchProps} />\n                <br />\n                <BootstrapTable\n                  keyField=\"id\"\n                  data={entryData}\n                  columns={columns}\n                  defaultSorted={defaultSorted}\n                  headerClasses=\"header-class\"\n                  pagination={paginationFactory()}\n                  {...props.baseProps}\n                />\n              </div>\n            )}\n          </ToolkitProvider>\n        </Card.Body>\n      </Card>\n      <br />\n      <Card style={{ width: \"95%\" }} className=\"ms-5\">\n        <Card.Body>\n          {\" \"}\n          <div>\n            <Button variant=\"secondary\" size=\"sm\">\n              Status Legend\n            </Button>{\" \"}\n            {/* <Button variant=\"warning\" size=\"sm\">Not Submitted</Button>{' '} */}\n            <Button variant=\"info\" size=\"sm\">\n              Submitted\n            </Button>{\" \"}\n            <Button variant=\"success\" size=\"sm\">\n              Approved\n            </Button>{\" \"}\n            <Button variant=\"danger\" size=\"sm\">\n              Rejected{\" \"}\n            </Button>{\" \"}\n          </div>\n        </Card.Body>\n        <AddExpenseEntry\n          show={show}\n          onHide={hideModal}\n          data={entry}\n          method={method}\n        />\n      </Card>\n    </>\n  );\n};\n\nexport default AddExpenseSheet;\n"]},"metadata":{},"sourceType":"module"}